{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
	<title>Login V3</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
<!--===============================================================================================-->	
	<link rel="icon" type="image/png" href='{% static "images/icons/favicon.ico" %}'/>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "vendor/bootstrap/css/bootstrap.min.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "fonts/font-awesome-4.7.0/css/font-awesome.min.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "fonts/iconic/css/material-design-iconic-font.min.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "vendor/animate/animate.css" %}'>
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href='{% static "vendor/css-hamburgers/hamburgers.min.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "vendor/animsition/css/animsition.min.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "vendor/select2/select2.min.css" %}'>
<!--===============================================================================================-->	
	<link rel="stylesheet" type="text/css" href='{% static "vendor/daterangepicker/daterangepicker.css" %}'>
<!--===============================================================================================-->
	<link rel="stylesheet" type="text/css" href='{% static "css/util.css" %}'>
	<link rel="stylesheet" type="text/css" href='{% static "css/main.css" %}'>
<!--===============================================================================================-->
</head>
<style>
.error-card {
  position: relative;
  max-width: 700px;
  margin: 20px auto;
  padding: 18px 56px 18px 20px;
  border-radius: 18px;
  font-family: "Vazirmatn", "IRANYekan", sans-serif;
  color: #fff;
  background: rgba(255, 0, 100, 0.08);
  backdrop-filter: blur(10px) saturate(160%);
  border: 1px solid rgba(255, 0, 120, 0.3);
  box-shadow: 0 0 40px rgba(255, 0, 120, 0.2);
  display: flex;
  align-items: flex-start;
  gap: 12px;
  opacity: 0;
  transform: translateY(-20px) scale(0.95);
  animation: errorAppear 0.8s cubic-bezier(.2,.9,.3,1.3) forwards;
  font-weight: bolder;
  font-size: larger;
}

@keyframes errorAppear {
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.err-icon {
  font-size: 28px;
  text-shadow: 0 0 12px rgba(255, 80, 180, 0.9);
  animation: pulseGlow 2s infinite;
}

@keyframes pulseGlow {
  0%, 100% { text-shadow: 0 0 8px rgba(255, 100, 200, 0.8); }
  50% { text-shadow: 0 0 20px rgba(255, 0, 120, 1); }
}

.err-content strong {
  display: block;
  margin-bottom: 6px;
  font-size: 15px;
  color: #ffb4d6;
}

.error-close {
  position: absolute;
  left: 12px;
  top: 12px;
  background: rgba(255, 255, 255, 0.05);
  color: #fff;
  border: none;
  font-size: 22px;
  width: 38px;
  height: 38px;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
}

.error-close:hover {
  background: rgba(255, 0, 120, 0.3);
  transform: rotate(90deg) scale(1.1);
}

@keyframes errorShake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-6px); }
  50% { transform: translateX(6px); }
  75% { transform: translateX(-3px); }
}
</style>
<script>
class FancyError {
  constructor(selector) {
    this.card = document.querySelector(selector);
    if (!this.card) return;
    this.closeBtn = this.card.querySelector(".error-close");
    this.init();
  }

  init() {
    this.addSound();
    this.addShake();
    this.addGlowEffect();
    this.addCloseButton();
    this.autoDismiss(10000); // بعد از ۱۰ ثانیه خودش بسته میشه
  }

  addSound() {
    // صدای خطا (اختیاری)
    const audio = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_07b5c1b8b5.mp3?filename=error-126627.mp3");
    audio.volume = 0.2;
    audio.play().catch(() => {}); // جلوگیری از خطا در مرورگرهای بی‌صدا
  }

  addShake() {
    this.card.style.animation = "errorShake 0.4s ease";
    setTimeout(() => (this.card.style.animation = ""), 400);
  }

  addGlowEffect() {
    let glow = 0;
    this.glowInterval = setInterval(() => {
      glow = (glow + 1) % 50;
      this.card.style.boxShadow = `0 0 ${10 + glow / 2}px rgba(255,0,150,${0.3 + glow / 100})`;
    }, 50);
  }

  addCloseButton() {
    this.closeBtn.addEventListener("click", () => this.dismiss());
  }

  autoDismiss(ms) {
    this.timeout = setTimeout(() => this.dismiss(), ms);
  }

  dismiss() {
    clearInterval(this.glowInterval);
    clearTimeout(this.timeout);
    this.card.style.transition = "all 0.8s ease";
    this.card.style.opacity = "0";
    this.card.style.transform = "translateY(-20px) scale(0.9)";
    setTimeout(() => this.card.remove(), 800);
  }
}

document.addEventListener("DOMContentLoaded", () => {
  new FancyError("#form-error");
});
</script>

<body>
	
	<div class="limiter">
		<div class="container-login100" style="background-image: url('{% static "images/bg-01.jpg" %}');">
			<div class="wrap-login100">
				<form class="login100-form validate-form" method="post">
					{% csrf_token %}
					<input type="hidden" name="next" value="{{ request.GET.next }}">
					<span class="login100-form-logo">
						<i class="zmdi zmdi-landscape"></i>
					</span>

					<span class="login100-form-title p-b-34 p-t-27">
						Log in
					</span>
					
					{% if myform.non_field_errors %}
						<div class="error-card" role="alert" dir="rtl">
						{{ myform.non_field_errors }}
						</div>
					{% endif %}

					<div class="wrap-input100 validate-input" data-validate = "Enter username">
						<!-- <input class="input100" type="text" name="username" placeholder="Username"> -->
						 {{ myform.username }}
						<span class="focus-input100" data-placeholder="&#xf207;"></span>
					</div>

					<div class="wrap-input100 validate-input" data-validate="Enter password">
						<!-- <input class="input100" type="password" name="password" placeholder="Password"> -->
						 {{ myform.password }}
						<span class="focus-input100" data-placeholder="&#xf191;"></span>
					</div>

					<div class="contact100-form-checkbox">
						<input class="input-checkbox100" id="ckb1" type="checkbox" name="remember-me">
						<label class="label-checkbox100" for="ckb1">
							Remember me
						</label>
					</div>
					<input type="hidden" name="next" value="{{ request.GET.next|default:'' }}">

					<div class="container-login100-form-btn">
						<button class="login100-form-btn">
							Login
						</button>
					</div>
					
					<div class="text-center p-t-90">
						<a class="txt1" href="{% url 'account:register' %}?next={{ request.GET.next }}"
							style="font-weight:700;font-size:1.1rem;margin-bottom:12px;display:inline-block;">
								Register
						</a>
						<br>
						<a class="txt1" href="#">
							Forgot Password?

						</a>
					</div>
					
				</form>
			</div>
		</div>
	</div>
	

	<div id="dropDownSelect1"></div>
	
<!--===============================================================================================-->
	<script src='{% static "vendor/jquery/jquery-3.2.1.min.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "vendor/animsition/js/animsition.min.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "vendor/bootstrap/js/popper.js" %}'></script>
	<script src='{% static "vendor/bootstrap/js/bootstrap.min.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "vendor/select2/select2.min.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "vendor/daterangepicker/moment.min.js" %}'></script>
	<script src='{% static "vendor/daterangepicker/daterangepicker.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "vendor/countdowntime/countdowntime.js" %}'></script>
<!--===============================================================================================-->
	<script src='{% static "js/main.js" %}'></script>

</body>
</html>